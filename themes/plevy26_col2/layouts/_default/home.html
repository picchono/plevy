{{ define "main" }}
{{ if false }}
<div>
    {{ $page := $.Site.GetPage "page" "chaire.md" }}
    {{ with $page }}
    {{- partial "box.html" ( dict "context" . "sort" 100) -}}
    {{ end }}
    {{ $page := $.Site.GetPage "page" "plevy.md" }}
    {{ with $page }}
    {{- partial "box.html" ( dict "context" . "sort" 100) -}}
    {{ end }}
</div>
{{ end }}
<div class="relative h-full">
    <div class="swiper swiperCat swiper-h">
        <div class="swiper-wrapper">
            {{ range $fold := slice "events" "teaching" "courses" "projects" "research" "publications" "writings"
            "presentations" }}
            <div class="swiper-slide">
                <div class="swiper swiperBox swiper-v">
                    <div class="swiper-wrapper">
                        {{ range readDir "content" }}
                        {{ if eq .Name $fold }}
                        {{ range where $.Site.Pages "Section" "in" ($fold) }}
                        {{ if eq .Params.zone $fold }}
                        {{ range where .Site.Pages "Section" "in" (slice .Params.zone) }}
                        {{ if ne .Params.notListed true }}
                        <div class="swiper-slide" data-hash="{{- .File.BaseFileName -}}"
                            name="{{- .File.BaseFileName -}}">{{- partial "box.html" ( dict "context" . ) -}}</div>
                        {{ end }}
                        {{ end }}

                        {{ end }}
                        {{ end }}
                        {{ end }}
                        {{ end }}
                    </div>
                    <div class="swiper-paginationv"></div>
                </div>
            </div>
            {{ end }}
        </div>
        <div class="swiper-paginationh"></div>
    </div>
</div>
{{ end }}